Ext.data.JsonP.nutshell_usbManager({"tagname":"class","files":[{"filename":"gm_js_usbmanager.js","href":"gm_js_usbmanager.html#nutshell-usbManager"},{"filename":"gm_js_usbmanager.js","href":"gm_js_usbmanager.html#nutshell-usbManager"}],"aliases":{},"alternateClassNames":[],"members":[{"name":"","tagname":"property","owner":"nutshell.usbManager","id":"property-","meta":{}},{"name":"m_cbMgr","tagname":"property","owner":"nutshell.usbManager","id":"property-m_cbMgr","meta":{}},{"name":"m_connectState","tagname":"property","owner":"nutshell.usbManager","id":"property-m_connectState","meta":{}},{"name":"m_deviceList","tagname":"property","owner":"nutshell.usbManager","id":"property-m_deviceList","meta":{}},{"name":"m_selectedDeviceIndex","tagname":"property","owner":"nutshell.usbManager","id":"property-m_selectedDeviceIndex","meta":{}},{"name":"createBrowser","tagname":"method","owner":"nutshell.usbManager","id":"method-createBrowser","meta":{}},{"name":"createPlayer","tagname":"method","owner":"nutshell.usbManager","id":"method-createPlayer","meta":{}},{"name":"emitCallback","tagname":"method","owner":"nutshell.usbManager","id":"method-emitCallback","meta":{}},{"name":"getConnectState","tagname":"method","owner":"nutshell.usbManager","id":"method-getConnectState","meta":{}},{"name":"getDeviceIndex","tagname":"method","owner":"nutshell.usbManager","id":"method-getDeviceIndex","meta":{}},{"name":"getDeviceList","tagname":"method","owner":"nutshell.usbManager","id":"method-getDeviceList","meta":{}},{"name":"isConnected","tagname":"method","owner":"nutshell.usbManager","id":"method-isConnected","meta":{}},{"name":"isConnectedDevice","tagname":"method","owner":"nutshell.usbManager","id":"method-isConnectedDevice","meta":{}},{"name":"registerCallback","tagname":"method","owner":"nutshell.usbManager","id":"method-registerCallback","meta":{}},{"name":"reqChangeDevice","tagname":"method","owner":"nutshell.usbManager","id":"method-reqChangeDevice","meta":{}},{"name":"reqConnect","tagname":"method","owner":"nutshell.usbManager","id":"method-reqConnect","meta":{}},{"name":"reqDisconnect","tagname":"method","owner":"nutshell.usbManager","id":"method-reqDisconnect","meta":{}},{"name":"connectStateChangedCb","tagname":"event","owner":"nutshell.usbManager","id":"event-connectStateChangedCb","meta":{}}],"extends":null,"name":"nutshell.usbManager","singleton":true,"id":"class-nutshell.usbManager","private":null,"mixins":[],"requires":[],"uses":[],"component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><pre class=\"hierarchy\"><h4>Files</h4><div class='dependency'><a href='source/gm_js_usbmanager.html#nutshell-usbManager' target='_blank'>gm_js_usbmanager.js</a></div><div class='dependency'><a href='source/gm_js_usbmanager.html#nutshell-usbManager' target='_blank'>gm_js_usbmanager.js</a></div></pre><div class='doc-contents'><p>Entry interface of Usb service.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-property-' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-property-' class='name expandable'></a><span> : Object</span><span class=\"signature\"></span></div><div class='description'><div class='short'>未Connect状态\n1. ...</div><div class='long'><p>未Connect状态\n1. Actioin： reqConnect请求。</p>\n\n<pre><code>cb： connectStateChangedCb（Offline）\n    ？？ 没有 deviceListUpdatedCb\n</code></pre>\n\n<p>已经Connect后。\n1. Action: 拨Usb设备</p>\n\n<pre><code>    cb： connectStateChangedCb（Offline）&amp;&amp; deviceListUpdatedCb（有没有？）\n</code></pre>\n\n<ol>\n<li>Action： 插件Usb设备\n\n<pre><code> cb ：  connectStateChangedCb（Available）&amp;&amp; deviceListUpdatedCb（List（只有一个））\n</code></pre></li>\n</ol>\n\n</div></div></div><div id='property-m_cbMgr' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-property-m_cbMgr' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-property-m_cbMgr' class='name not-expandable'>m_cbMgr</a><span> : Object</span><span class=\"signature\"></span></div><div class='description'><div class='short'>\n</div><div class='long'>\n</div></div></div><div id='property-m_connectState' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-property-m_connectState' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-property-m_connectState' class='name not-expandable'>m_connectState</a><span> : Object</span><span class=\"signature\"></span></div><div class='description'><div class='short'><p>Connecttion state, CONNECT_STATE_OFFLINE is the default.</p>\n</div><div class='long'><p>Connecttion state, CONNECT_STATE_OFFLINE is the default.</p>\n</div></div></div><div id='property-m_deviceList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-property-m_deviceList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-property-m_deviceList' class='name expandable'>m_deviceList</a><span> : Array</span><span class=\"signature\"></span></div><div class='description'><div class='short'>Useb device list which type is class UsbDevice ...</div><div class='long'><p>Useb device list which type is class UsbDevice</p>\n<p>Defaults to: <code>[]</code></p></div></div></div><div id='property-m_selectedDeviceIndex' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-property-m_selectedDeviceIndex' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-property-m_selectedDeviceIndex' class='name expandable'>m_selectedDeviceIndex</a><span> : Number</span><span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>0</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-createBrowser' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-createBrowser' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-createBrowser' class='name expandable'>createBrowser</a>( <span class='pre'></span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Get Browser API. ...</div><div class='long'><p>Get Browser API.</p>\n\n<p>目前底层 是单例方式。</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorcode : NULL - Error happened.</p>\n</div></li></ul></div></div></div><div id='method-createPlayer' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-createPlayer' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-createPlayer' class='name expandable'>createPlayer</a>( <span class='pre'></span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Get Player API. ...</div><div class='long'><p>Get Player API.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorcode : NULL - Error happened.</p>\n</div></li></ul></div></div></div><div id='method-emitCallback' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-emitCallback' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-emitCallback' class='name expandable'>emitCallback</a>( <span class='pre'>setName, arguments</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Emit the callbacks from handler layer.(Usb service) ...</div><div class='long'><p>Emit the callbacks from handler layer.(Usb service)</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>setName</span> : String<div class='sub-desc'><p>Descripte the callback type.</p>\n</div></li><li><span class='pre'>arguments</span> : Array<div class='sub-desc'><p>array.</p>\n</div></li></ul></div></div></div><div id='method-getConnectState' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-getConnectState' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-getConnectState' class='name expandable'>getConnectState</a>( <span class='pre'></span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Retrieve the connect state. ...</div><div class='long'><p>Retrieve the connect state.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>CONNECT_STATE @link{CONNECT_STATE}</p>\n</div></li></ul></div></div></div><div id='method-getDeviceIndex' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-getDeviceIndex' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-getDeviceIndex' class='name expandable'>getDeviceIndex</a>( <span class='pre'>index</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the index of selected storage device. ...</div><div class='long'><p>Get the index of selected storage device.\n@note Update the value when emit the signal changeDeviceUpdatedCb().</p>\n\n<p>[C++]virtual qint32 getDeviceIndex(qint32&amp; index) = 0;</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>index</span> : Object<div class='sub-desc'><p>: [IN] selected storage device index (defined in enum DEVICETYPE)</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode</p>\n</div></li></ul></div></div></div><div id='method-getDeviceList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-getDeviceList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-getDeviceList' class='name expandable'>getDeviceList</a>( <span class='pre'>strList</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the item list in DeviceList. ...</div><div class='long'><p>Get the item list in DeviceList.\n@note Index start from 1, not 0!\n@note Update the value when emit the signal deviceListUpdatedCb().</p>\n\n<p>[C++] virtual qint32 getDeviceList(QList<DEVICELIST_ITEM>&amp; strList) = 0;</DEVICELIST_ITEM></p>\n\n<ol>\n<li>可能需要异步方式？</li>\n<li>返回的List是什么类型？</li>\n</ol>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>strList</span> : Object<div class='sub-desc'><p>: [OUT] the item list</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>devicelist : @link{UsbDevice}</p>\n\n<pre><code>                    null -- if no device valid.\n</code></pre>\n</div></li></ul></div></div></div><div id='method-isConnected' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-isConnected' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-isConnected' class='name expandable'>isConnected</a>( <span class='pre'></span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Whether connected?\n\n如果没有Usb设备的话，不会返回connectStateChangedCb ...</div><div class='long'><p>Whether connected?</p>\n\n<p>如果没有Usb设备的话，不会返回connectStateChangedCb</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>true : if connected.</p>\n</div></li></ul></div></div></div><div id='method-isConnectedDevice' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-isConnectedDevice' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-isConnectedDevice' class='name expandable'>isConnectedDevice</a>( <span class='pre'></span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Whether connected to any device? ...</div><div class='long'><p>Whether connected to any device?</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>true : if connected to any usb device.</p>\n</div></li></ul></div></div></div><div id='method-registerCallback' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-registerCallback' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-registerCallback' class='name expandable'>registerCallback</a>( <span class='pre'>setName, func</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Register callback function of usb manager. ...</div><div class='long'><p>Register callback function of usb manager.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>setName</span> : String<div class='sub-desc'><p>Descripte the callback type.</p>\n</div></li><li><span class='pre'>func</span> : Function<div class='sub-desc'><p>Callback function.</p>\n</div></li></ul></div></div></div><div id='method-reqChangeDevice' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-reqChangeDevice' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-reqChangeDevice' class='name expandable'>reqChangeDevice</a>( <span class='pre'>index</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to change to a selected storage device. ...</div><div class='long'><p>Request to change to a selected storage device.</p>\n\n<pre><code>目前不需要。 也是为了将来支持多设备。\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>index</span> : Object<div class='sub-desc'><p>: [IN] selected storage device index (defined in enum DEVICETYPE)</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode</p>\n</div></li></ul></div></div></div><div id='method-reqConnect' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-reqConnect' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-reqConnect' class='name expandable'>reqConnect</a>( <span class='pre'>void</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to connect to server. ...</div><div class='long'><p>Request to connect to server.</p>\n\n<ol>\n<li>如果没有Usb设备的话，不会返回connectStateChangedCb。（4/26）</li>\n<li>WebService进程会常驻，如果再次发出Connect请求的话，还是会正常返回cb。</li>\n</ol>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>void</span> : Object<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode : 0 - need to wait the signal connectStateChangedCb(CONNECT_STATE_ONLINE_AVALIABLE)</p>\n</div></li></ul></div></div></div><div id='method-reqDisconnect' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-method-reqDisconnect' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-method-reqDisconnect' class='name expandable'>reqDisconnect</a>( <span class='pre'>void</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to disconnect to server. ...</div><div class='long'><p>Request to disconnect to server.</p>\n\n<p>多次调用该接口时，是否都有cb？（Yes）</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>void</span> : Object<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode : 0 - need to wait the signal connectStateChangedCb(CONNECT_STATE_OFFLINE)</p>\n</div></li></ul></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-event'>Events</h3><div class='subsection'><div id='event-connectStateChangedCb' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbManager'>nutshell.usbManager</span><br/><a href='source/gm_js_usbmanager.html#nutshell-usbManager-event-connectStateChangedCb' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbManager-event-connectStateChangedCb' class='name expandable'>connectStateChangedCb</a>( <span class='pre'>state, errorCode</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify UI if connect state changed. ...</div><div class='long'><p>Notify UI if connect state changed.</p>\n\n<p>响应低层来的connectStateChanged通知，</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>state</span> : Object<div class='sub-desc'><p>: [IN] latest connect state.// @link reqConnect &amp;&amp; reqDisconnect.</p>\n</div></li><li><span class='pre'>errorCode</span> : Object<div class='sub-desc'><p>: [IN] error code. // 目前未使用。</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>boolean</span><div class='sub-desc'><p>if changed : true - the connect state has changed and Notify UI. false - No state change and Don't notify ui.</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});