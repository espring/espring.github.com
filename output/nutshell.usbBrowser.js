Ext.data.JsonP.nutshell_usbBrowser({"tagname":"class","files":[{"filename":"gm_js_usbbrowser.js","href":"gm_js_usbbrowser.html#nutshell-usbBrowser"},{"filename":"gm_js_usbbrowser.js","href":"gm_js_usbbrowser.html#nutshell-usbBrowser"}],"aliases":{},"alternateClassNames":[],"members":[{"name":"m_cbMgr","tagname":"property","owner":"nutshell.usbBrowser","id":"property-m_cbMgr","meta":{}},{"name":"m_hierarchyInfoList","tagname":"property","owner":"nutshell.usbBrowser","id":"property-m_hierarchyInfoList","meta":{"private":true}},{"name":"m_itemList","tagname":"property","owner":"nutshell.usbBrowser","id":"property-m_itemList","meta":{"private":true}},{"name":"m_totalCount","tagname":"property","owner":"nutshell.usbBrowser","id":"property-m_totalCount","meta":{"private":true}},{"name":"emitCallback","tagname":"method","owner":"nutshell.usbBrowser","id":"method-emitCallback","meta":{}},{"name":"getHierarchyInfo","tagname":"method","owner":"nutshell.usbBrowser","id":"method-getHierarchyInfo","meta":{}},{"name":"getList","tagname":"method","owner":"nutshell.usbBrowser","id":"method-getList","meta":{}},{"name":"getMediaTypeFilter","tagname":"method","owner":"nutshell.usbBrowser","id":"method-getMediaTypeFilter","meta":{}},{"name":"getTotalCount","tagname":"method","owner":"nutshell.usbBrowser","id":"method-getTotalCount","meta":{}},{"name":"listPathUnfoldReadyCb","tagname":"method","owner":"nutshell.usbBrowser","id":"method-listPathUnfoldReadyCb","meta":{}},{"name":"queryListReady","tagname":"method","owner":"nutshell.usbBrowser","id":"method-queryListReady","meta":{}},{"name":"registerCallback","tagname":"method","owner":"nutshell.usbBrowser","id":"method-registerCallback","meta":{}},{"name":"reqAlbumSongList","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqAlbumSongList","meta":{}},{"name":"reqArtistSongList","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqArtistSongList","meta":{}},{"name":"reqBack","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqBack","meta":{}},{"name":"reqFolderSongList","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqFolderSongList","meta":{}},{"name":"reqGenreSongList","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqGenreSongList","meta":{}},{"name":"reqGetList","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqGetList","meta":{}},{"name":"reqPathUnfold","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqPathUnfold","meta":{}},{"name":"reqPlayByPath","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqPlayByPath","meta":{}},{"name":"reqResetDB","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqResetDB","meta":{}},{"name":"reqSelect","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqSelect","meta":{}},{"name":"reqSelectRoot","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqSelectRoot","meta":{}},{"name":"reqSetMediaTypeFilter","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqSetMediaTypeFilter","meta":{}},{"name":"reqThumbnail","tagname":"method","owner":"nutshell.usbBrowser","id":"method-reqThumbnail","meta":{}},{"name":"thumbnailCb","tagname":"method","owner":"nutshell.usbBrowser","id":"method-thumbnailCb","meta":{}},{"name":"browserListUpdatedCb","tagname":"event","owner":"nutshell.usbBrowser","id":"event-browserListUpdatedCb","meta":{}},{"name":"hierarchyChangedCb","tagname":"event","owner":"nutshell.usbBrowser","id":"event-hierarchyChangedCb","meta":{}},{"name":"listDataReadyCb","tagname":"event","owner":"nutshell.usbBrowser","id":"event-listDataReadyCb","meta":{}},{"name":"listSubItemCountUpdatedCb","tagname":"event","owner":"nutshell.usbBrowser","id":"event-listSubItemCountUpdatedCb","meta":{}},{"name":"mediaTypeFilterUpdatedCb","tagname":"event","owner":"nutshell.usbBrowser","id":"event-mediaTypeFilterUpdatedCb","meta":{}}],"extends":null,"name":"nutshell.usbBrowser","singleton":true,"id":"class-nutshell.usbBrowser","private":null,"mixins":[],"requires":[],"uses":[],"short_doc":"在使用Browser接口前，请确认已经通过usbManager连接上了USB设备。 ...","component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><pre class=\"hierarchy\"><h4>Files</h4><div class='dependency'><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser' target='_blank'>gm_js_usbbrowser.js</a></div><div class='dependency'><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser' target='_blank'>gm_js_usbbrowser.js</a></div></pre><div class='doc-contents'><ol>\n<li><p>在使用Browser接口前，请确认已经通过usbManager连接上了USB设备。</p></li>\n<li><p>如果需要响应Callback，请在使用功能接口方法前调用registerCallback</p></li>\n<li><p>支持的浏览Usb方式有3种： <a href=\"#!/api/BROWSER_ITEMTYPE\" rel=\"BROWSER_ITEMTYPE\" class=\"docClass\">BROWSER_ITEMTYPE</a></p>\n\n<pre><code> 1）按Folder浏览，：BROWSER_ITEMTYPE。BROWSER_ITEMTYPE_ROOT_USB : 0, \n         浏览目录的树结构：ROOT -&gt; Folder -&gt; Subfolder -&gt;File\n         其中，ROOT时返回的Type是BROWSER_ITEMTYPE。BROWSER_ITEMTYPE_ROOT_USB\n             Folder和SubFolder时返回的Type是<a href=\"#!/api/BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_FOLDER\" rel=\"BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_FOLDER\" class=\"docClass\">BROWSER_ITEMTYPE.BROWSER_ITEMTYPE_FOLDER</a>\n             File时返回的Type是<a href=\"#!/api/BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_FILE\" rel=\"BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_FILE\" class=\"docClass\">BROWSER_ITEMTYPE.BROWSER_ITEMTYPE_FILE</a>\n\n 2）按Aritist浏览： BROWSER_ITEMTYPE。BROWSER_ITEMTYPE_ROOT_ARTIST : 1, \n         浏览目录的树结构：ROOT -&gt; ARTIST -&gt; ALBUM -&gt; Track\n 3）按Album浏览： BROWSER_ITEMTYPE。BROWSER_ITEMTYPE_ROOT_ALBUM : 2,  \n         // ALBUM -&gt; Track\n 4）按Genre浏览： BROWSER_ITEMTYPE。BROWSER_ITEMTYPE_ROOT_GENRE : 3, \n         // GENRE -&gt;(ARTIST -&gt; ALBUM)-&gt; Track\n</code></pre></li>\n<li><p>初始化状态下，根据式样的要求决定App是处于哪一种浏览方式，例如：式样要求“文件浏览方式”。</p>\n\n<pre><code> 调用 reqSetMediaTypeFilter,设备浏览方式。例如：所有文件MEDIATYPEFILTER.MEDIATYPEFILTER_ALL\n 底层Callback： mediaTypeFilterUpdatedCb\n     底层将4个机能（Usb、Artist、Album、Genre）认为是第一级目录。自动调用selectRoot。\n 底层Callback：hierarchyChangedCb。 为空数组'{[]}'\n 底层Callback：listSubItemCountUpdatedCb. 数目为4:4个机能（Folder、Artist、Album、Genre）\n\n 调用 reqSelect(1) : 进入Usb Folder模式的Root\n 底层扫描U盘。会定时返回扫描结果的Cb\n     底层Callback：listSubItemCountUpdatedCb，返回当前已经完成的总数。 第一次等于4\n 底层Callback：hierarchyChangedCb.为数组'{['name':'folder', 'index':1, 'type':USB_ROOT]}' ??\n\n 调用reqGetList: 要求返回Start开始的，共Count项\n 底层Callback  ：listDataReady。 返回的是：USB Root上的文件和文件夹列表。（hierarchyList最后一项）： 在这里可以刷新画面List。\n 用户可以调用 getList;\n\n 画面上发生点击操作，List被点中。\n 调用reqSelect(Index); \n     //这里底层接口要求1开始。 1是第0项：猜测对应<a href=\"#!/api/BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_ROOT_USB\" rel=\"BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_ROOT_USB\" class=\"docClass\">BROWSER_ITEMTYPE.BROWSER_ITEMTYPE_ROOT_USB</a> \n 底层Callback： hierarchyChanged(info)；\n     //猜测对应<a href=\"#!/api/BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_ROOT_USB\" rel=\"BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_ROOT_USB\" class=\"docClass\">BROWSER_ITEMTYPE.BROWSER_ITEMTYPE_ROOT_USB</a> \n</code></pre></li>\n<li><p>子目录的递归浏览。例如： 画面显示当前目录下所有的文件，点击其中的一个子目录。</p>\n\n<pre><code> 画面点击的响应事件里能得到被点击的条目Index。\n 调用reqSelect(Index+1); //\n 底层Callback：<a href=\"#!/api/nutshell.usbBrowser-event-hierarchyChangedCb\" rel=\"nutshell.usbBrowser-event-hierarchyChangedCb\" class=\"docClass\">hierarchyChangedCb</a>(info); \n     //其中info.m_type == <a href=\"#!/api/BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_FOLDER\" rel=\"BROWSER_ITEMTYPE-property-BROWSER_ITEMTYPE_FOLDER\" class=\"docClass\">BROWSER_ITEMTYPE.BROWSER_ITEMTYPE_FOLDER</a> \n</code></pre></li>\n<li><p>播放文件。 例如： 画面显示当前目录下所有的文件，点击其中的一个文件。 注意 ： 这里不知道文件类型是Audio还是Video?</p>\n\n<pre><code> 画面点击的响应事件里能得到被点击的条目Index。\n 调用reqSelect(Index+1); //\n 底层Callback：<a href=\"#!/api/nutshell.usbPlayer-event-trackInfoUpdatedCb\" rel=\"nutshell.usbPlayer-event-trackInfoUpdatedCb\" class=\"docClass\">nutshell.usbPlayer.trackInfoUpdatedCb</a>; //这时，底层开始播放文件,返回的是Player的Callback。\n</code></pre></li>\n<li><p>List快速滚动</p>\n\n<pre><code> 注意：因为系统自动扫描U盘上的文件，需要较长时间才能将文件列表记录至DB中，\n 所以对上层会不断回调<a href=\"#!/api/nutshell.usbBrowser-event-listSubItemCountUpdatedCb\" rel=\"nutshell.usbBrowser-event-listSubItemCountUpdatedCb\" class=\"docClass\">listSubItemCountUpdatedCb</a>。\n 这里是否需要监听listSubItemCountUpdatedCb呢？\n\n 初始化时，通过getTotalCount()得到数据总数。 \n     注意：因为U盘可能还未扫描完成，所以会有不断变化的总数？\n 根据滚动方向，预判需要下一批数据。例如：当前处在数据第x条，一屏是10条，提前准备下一屏数据。\n     先queryListReady(x+10, 10);如果ture，则直接getList\n     否则，reqGetList,并且等待底层的回调：nutshell.usbPlayer.listDataReadyCb\n</code></pre></li>\n</ol>\n\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-m_cbMgr' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-property-m_cbMgr' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-property-m_cbMgr' class='name not-expandable'>m_cbMgr</a><span> : Object</span><span class=\"signature\"></span></div><div class='description'><div class='short'>\n</div><div class='long'>\n</div></div></div><div id='property-m_hierarchyInfoList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-property-m_hierarchyInfoList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-property-m_hierarchyInfoList' class='name expandable'>m_hierarchyInfoList</a><span> : Array</span><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Current hierarchy Info List\n\n{BrowserListItemInfo} ...</div><div class='long'><p>Current hierarchy Info List</p>\n\n<p>{BrowserListItemInfo}</p>\n<p>Defaults to: <code>[]</code></p></div></div></div><div id='property-m_itemList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-property-m_itemList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-property-m_itemList' class='name expandable'>m_itemList</a><span> : Array</span><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>[]</code></p></div></div></div><div id='property-m_totalCount' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-property-m_totalCount' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-property-m_totalCount' class='name expandable'>m_totalCount</a><span> : Number</span><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>当前DB中的总条数。 ...</div><div class='long'><p>当前DB中的总条数。</p>\n<p>Defaults to: <code>0</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-emitCallback' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-emitCallback' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-emitCallback' class='name expandable'>emitCallback</a>( <span class='pre'>setName, arguments</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Emit the callbacks from handler layer.(Usb service) ...</div><div class='long'><p>Emit the callbacks from handler layer.(Usb service)</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>setName</span> : String<div class='sub-desc'><p>Descripte the callback type.</p>\n</div></li><li><span class='pre'>arguments</span> : Array<div class='sub-desc'><p>array.</p>\n</div></li></ul></div></div></div><div id='method-getHierarchyInfo' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-getHierarchyInfo' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-getHierarchyInfo' class='name expandable'>getHierarchyInfo</a>( <span class='pre'></span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the current hierarchy info(the footprint that UI goes through). ...</div><div class='long'><p>Get the current hierarchy info(the footprint that UI goes through).\n@note Update the value when emit the signal hierarchyChanged().</p>\n\n<pre><code>BrowserListItemInfo info;\n: 初始化值：按照式样，\n</code></pre>\n\n<p>@note If in root list, the hierarchy info is empty.\\n</p>\n\n<pre><code> Otherwise the hierarchy info is just like this:\\n\n       eg.1: QString(\"Udisk1\")-&gt;QString(\"folder1\")-&gt;QString(\"SubFolder1\")\\n\n       eg.2: QString(\"Artist\")-&gt;QString(\"Michael Jackson\")-&gt;QString(\"Number Ones\")\\n\n</code></pre>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>infoList {BrowserListItemInfo} : [OUT] the hierarchy info</p>\n</div></li></ul></div></div></div><div id='method-getList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-getList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-getList' class='name expandable'>getList</a>( <span class='pre'>start, count</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the item list in current hierarchy. ...</div><div class='long'><p>Get the item list in current hierarchy.</p>\n\n<p>@note Update the value when emit the signal listDataReady().</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>start</span> : Object<div class='sub-desc'><p>: [IN] the start index</p>\n</div></li><li><span class='pre'>count</span> : Object<div class='sub-desc'><p>: [IN] the desired count</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>list : null -- if out of range.</p>\n</div></li></ul></div></div></div><div id='method-getMediaTypeFilter' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-getMediaTypeFilter' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-getMediaTypeFilter' class='name expandable'>getMediaTypeFilter</a>( <span class='pre'></span> ) : MEDIATYPEFILTER)<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the value of media type filter. ...</div><div class='long'><p>Get the value of media type filter.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>MEDIATYPEFILTER)</span><div class='sub-desc'><p>type :[OUT] the media type, audio or video (defined in enum MEDIATYPEFILTER)</p>\n</div></li></ul></div></div></div><div id='method-getTotalCount' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-getTotalCount' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-getTotalCount' class='name expandable'>getTotalCount</a>( <span class='pre'></span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the total item count of current hierarchy, include files and folders. ...</div><div class='long'><p>Get the total item count of current hierarchy, include files and folders.\n@note Update the value when emit the signal listSubItemCountUpdated().</p>\n\n<p>每过一段时间（500ms），DB发生更新时，给出listSubItemCountUpdated通知。</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>count : [OUT] the item count</p>\n</div></li></ul></div></div></div><div id='method-listPathUnfoldReadyCb' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-listPathUnfoldReadyCb' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-listPathUnfoldReadyCb' class='name expandable'>listPathUnfoldReadyCb</a>( <span class='pre'>itemList</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notifty UI if unfold data list ready. ...</div><div class='long'><p>Notifty UI if unfold data list ready.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>itemList</span> : Object<div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-queryListReady' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-queryListReady' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-queryListReady' class='name expandable'>queryListReady</a>( <span class='pre'>start, count</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Query if list data is already cached. ...</div><div class='long'><p>Query if list data is already cached.\n@note Index start from 1, not 0!</p>\n\n<pre><code>Check是否有缓存。由LIst的式样决定，方便快速Flip\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>start</span> : Object<div class='sub-desc'><p>: [IN] the start index.</p>\n</div></li><li><span class='pre'>count</span> : Object<div class='sub-desc'><p>: [IN] the count.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorcode : 0 - The data is already cached.</p>\n</div></li></ul></div></div></div><div id='method-registerCallback' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-registerCallback' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-registerCallback' class='name expandable'>registerCallback</a>( <span class='pre'>setName, func</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Register callback function of usb manager. ...</div><div class='long'><p>Register callback function of usb manager.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>setName</span> : String<div class='sub-desc'><p>Descripte the callback type.</p>\n</div></li><li><span class='pre'>func</span> : Function<div class='sub-desc'><p>Callback function.</p>\n</div></li></ul></div></div></div><div id='method-reqAlbumSongList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqAlbumSongList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqAlbumSongList' class='name expandable'>reqAlbumSongList</a>( <span class='pre'>album</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to get the all song list of the album. ...</div><div class='long'><p>Request to get the all song list of the album.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>album</span> : Object<div class='sub-desc'><p>: the select album</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode :  0 - need to wait the signal listDataReady();\\n</p>\n\n<pre><code>                 1 - can get the list immediately.\n</code></pre>\n</div></li></ul></div></div></div><div id='method-reqArtistSongList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqArtistSongList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqArtistSongList' class='name expandable'>reqArtistSongList</a>( <span class='pre'>artist</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to get the all song list of the artist. ...</div><div class='long'><p>Request to get the all song list of the artist.</p>\n\n<pre><code>当前Artist名下的所有Song\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>artist</span> : Object<div class='sub-desc'><p>: the select artist</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode :  0 - need to wait the signal listDataReady();\\n</p>\n\n<pre><code>                 1 - can get the list immediately.\n</code></pre>\n</div></li></ul></div></div></div><div id='method-reqBack' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqBack' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqBack' class='name expandable'>reqBack</a>( <span class='pre'>layerCount</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to back to upper hierarchy. ...</div><div class='long'><p>Request to back to upper hierarchy.\n@note default value is the layer of back</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>layerCount</span> : Object<div class='sub-desc'><p>: [IN] the req layerCount of back, 1 is default.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode :  0 - need to wait the signal hierarchyChanged()</p>\n</div></li></ul></div></div></div><div id='method-reqFolderSongList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqFolderSongList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqFolderSongList' class='name expandable'>reqFolderSongList</a>( <span class='pre'>album</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to get the all song list of the album. ...</div><div class='long'><p>Request to get the all song list of the album.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>album</span> : Object<div class='sub-desc'><p>: the select album</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode :  0 - need to wait the signal listDataReady();\\n</p>\n\n<pre><code>                 1 - can get the list immediately.\n</code></pre>\n</div></li></ul></div></div></div><div id='method-reqGenreSongList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqGenreSongList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqGenreSongList' class='name expandable'>reqGenreSongList</a>( <span class='pre'>artist</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to get the all song list of the artist. ...</div><div class='long'><p>Request to get the all song list of the artist.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>artist</span> : Object<div class='sub-desc'><p>: the select artist</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode :  0 - need to wait the signal listDataReady();\\n</p>\n\n<pre><code>                 1 - can get the list immediately.\n</code></pre>\n</div></li></ul></div></div></div><div id='method-reqGetList' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqGetList' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqGetList' class='name expandable'>reqGetList</a>( <span class='pre'>start, count</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to get the item list in current hierarchy. ...</div><div class='long'><p>Request to get the item list in current hierarchy.\n@note Index start from 1, not 0!</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>start</span> : Object<div class='sub-desc'><p>: [IN] the start index</p>\n</div></li><li><span class='pre'>count</span> : Object<div class='sub-desc'><p>: [IN] the desired count</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode :  0 - need to wait the signal listDataReady();\\n</p>\n\n<pre><code>                 1 - can get the list immediately.\n</code></pre>\n</div></li></ul></div></div></div><div id='method-reqPathUnfold' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqPathUnfold' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqPathUnfold' class='name expandable'>reqPathUnfold</a>( <span class='pre'>fullPath</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to unfold a folder. ...</div><div class='long'><p>Request to unfold a folder.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>fullPath</span> : String<div class='sub-desc'><p>: a full path name of the folder.</p>\n</div></li></ul></div></div></div><div id='method-reqPlayByPath' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqPlayByPath' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqPlayByPath' class='name expandable'>reqPlayByPath</a>( <span class='pre'>fullPath</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to play a track. ...</div><div class='long'><p>Request to play a track.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>fullPath</span> : String<div class='sub-desc'><p>: a full path name of the track.</p>\n</div></li></ul></div></div></div><div id='method-reqResetDB' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqResetDB' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqResetDB' class='name expandable'>reqResetDB</a>( <span class='pre'>void</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to delete the database and rebuild it. ...</div><div class='long'><p>Request to delete the database and rebuild it.</p>\n\n<p>插入Usb时，根据式样要求，提出重置DB时Usb信息。  每500ms给出通知。</p>\n\n<pre><code>注意：这是耗时操作！！ 1秒钟扫描100个AV文件。\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>void</span> : Object<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>void  : [C++] errorCode</p>\n</div></li></ul></div></div></div><div id='method-reqSelect' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqSelect' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqSelect' class='name expandable'>reqSelect</a>( <span class='pre'>selectedIndex</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to select the specified item. ...</div><div class='long'><p>Request to select the specified item.</p>\n\n<pre><code>选择： 1.如果是文件夹，则递归进入。  hierarchyChanged\n    2.如果是文件，则开始播放。 start to play a file/track\n</code></pre>\n\n<p>@note If the selected item is a track or file, then it will be loaded to play.\\n</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>selectedIndex</span> : Object<div class='sub-desc'><p>: [IN] specified item in browser list</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode :  0 - need to wait the signal hierarchyChanged()\\n</p>\n\n<pre><code>                 1 - start to play a file/track\n</code></pre>\n</div></li></ul></div></div></div><div id='method-reqSelectRoot' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqSelectRoot' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqSelectRoot' class='name expandable'>reqSelectRoot</a>( <span class='pre'>void</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to select the root list. ...</div><div class='long'><p>Request to select the root list.</p>\n\n<pre><code>快速回到当前Filter的Root！\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>void</span> : Object<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode :  0 - need to wait the signal hierarchyChanged()</p>\n</div></li></ul></div></div></div><div id='method-reqSetMediaTypeFilter' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqSetMediaTypeFilter' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqSetMediaTypeFilter' class='name expandable'>reqSetMediaTypeFilter</a>( <span class='pre'>type</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to set the media type filter. ...</div><div class='long'><p>Request to set the media type filter.</p>\n\n<pre><code>指定浏览方式！ 第一个调用 函数！每次进入App时都需要调用 。\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>type</span> : Object<div class='sub-desc'><p>: [IN] the wanted media type, audio or video ({@Link MEDIATYPEFILTER})</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>errorCode :  0 - need to wait the signal hierarchyChanged()\n@note If set succeccfully, then the hierarchy will be back to root list （会发一个Root List给UI，需要忽略？）</p>\n</div></li></ul></div></div></div><div id='method-reqThumbnail' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-reqThumbnail' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-reqThumbnail' class='name expandable'>reqThumbnail</a>( <span class='pre'>fileName</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Request to get a thumbnial data. ...</div><div class='long'><p>Request to get a thumbnial data.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>fileName</span> : String<div class='sub-desc'><p>: a full path name of the image file.</p>\n</div></li></ul></div></div></div><div id='method-thumbnailCb' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-method-thumbnailCb' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-method-thumbnailCb' class='name expandable'>thumbnailCb</a>( <span class='pre'>fileName, fileData</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notifty UI if image data(base64 decoded) recieved. ...</div><div class='long'><p>Notifty UI if image data(base64 decoded) recieved.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>fileName</span> : Object<div class='sub-desc'>\n</div></li><li><span class='pre'>fileData</span> : Object<div class='sub-desc'>\n</div></li></ul></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-event'>Events</h3><div class='subsection'><div id='event-browserListUpdatedCb' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-event-browserListUpdatedCb' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-event-browserListUpdatedCb' class='name expandable'>browserListUpdatedCb</a>( <span class='pre'>void</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify UI if database updated. ...</div><div class='long'><p>Notify UI if database updated.</p>\n\n<p> 可以和listSubItemCountUpdated合并, 但是这条cb没有返回数据？ 。</p>\n\n<p>Trigger: automatic signal when database has been updated.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>void</span> : Object<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>void\n@note UI can call getList() after UI recieved this signal.</p>\n</div></li></ul></div></div></div><div id='event-hierarchyChangedCb' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-event-hierarchyChangedCb' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-event-hierarchyChangedCb' class='name expandable'>hierarchyChangedCb</a>( <span class='pre'>infoList</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify UI if hierarchy successfully changed. ...</div><div class='long'><p>Notify UI if hierarchy successfully changed.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>infoList</span> : Object<div class='sub-desc'><p><a href=\"#!/api/BrowserListItemInfo\" rel=\"BrowserListItemInfo\" class=\"docClass\">BrowserListItemInfo</a></p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>boolean</span><div class='sub-desc'><p>@note UI can call getHierarchyInfo() after UI recieved this signal.</p>\n</div></li></ul></div></div></div><div id='event-listDataReadyCb' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-event-listDataReadyCb' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-event-listDataReadyCb' class='name expandable'>listDataReadyCb</a>( <span class='pre'>realStartIndex, realCount</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify UI if list data is ready. ...</div><div class='long'><p>Notify UI if list data is ready.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>realStartIndex</span> : Object<div class='sub-desc'><p>: [IN] the real start index we got.</p>\n</div></li><li><span class='pre'>realCount</span> : Object<div class='sub-desc'><p>: [IN] the real count we got.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>void\n@note UI can call getList() after UI recieved this signal.</p>\n</div></li></ul></div></div></div><div id='event-listSubItemCountUpdatedCb' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-event-listSubItemCountUpdatedCb' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-event-listSubItemCountUpdatedCb' class='name expandable'>listSubItemCountUpdatedCb</a>( <span class='pre'>count</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify UI if hierarchy successfully changed, notify the subitemcount. ...</div><div class='long'><p>Notify UI if hierarchy successfully changed, notify the subitemcount.</p>\n\n<p> ！ DB定时更新时给出listSubItemCountUpdated回调。</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>count</span> : Object<div class='sub-desc'><p>: [IN] the subitemcount we got.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>void\n@note UI can call getTotalCount() after UI recieved this signal.</p>\n</div></li></ul></div></div></div><div id='event-mediaTypeFilterUpdatedCb' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='nutshell.usbBrowser'>nutshell.usbBrowser</span><br/><a href='source/gm_js_usbbrowser.html#nutshell-usbBrowser-event-mediaTypeFilterUpdatedCb' target='_blank' class='view-source'>view source</a></div><a href='#!/api/nutshell.usbBrowser-event-mediaTypeFilterUpdatedCb' class='name expandable'>mediaTypeFilterUpdatedCb</a>( <span class='pre'>type</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify UI if media filter type successfully changed. ...</div><div class='long'><p>Notify UI if media filter type successfully changed.</p>\n\n<pre><code>Trigger: calling reqSetMedialTypeFilter() by default type.\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>type</span> : Object<div class='sub-desc'><p>: [IN] current media filter type.<a href=\"#!/api/MEDIATYPEFILTER\" rel=\"MEDIATYPEFILTER\" class=\"docClass\">MEDIATYPEFILTER</a></p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>void\n@note UI can call getMediaTypeFilter() after UI recieved this signal.</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});